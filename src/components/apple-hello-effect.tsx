// components/NameWriteEffect.tsx
"use client";

import * as React from "react";
import { motion } from "framer-motion";

export interface NameWriteEffectProps {
  /** גורם להכפלת משך האנימציה (גדול = איטי יותר) */
  speed?: number;
  /** callback בסיום האנימציה */
  onAnimationComplete?: () => void;
  /** מחלקות Tailwind נוספות */
  className?: string;
}

// מחרוזת ה‑d המאוחדת של שני ה‑paths
const combinedPathData = `
  M9.19214 167.053C36.7393 151.739 61.8409 132.048 90.3191 98.5294C109.703 75.6487 120.125 49.5227 120.622 31.5025C120.87 18.1035 114.336 7.93871 102.259 7.93871C88.8598 7.93871 80.4231 18.1035 75.2122 41.4362C69.505 67.0792 65.2866 96.5035 54.6166 190.856
  M55.6624 181.635C61.1251 133.614 81.9118 98.5481 108.463 98.5481C124.344 98.5481 134.437 111.203 131.571 129.317C129.957 139.987 128.087 150.905 125.908 163.56C123.369 179.441 130.628 191.848 152.622 191.848C184.697 191.848 219.689 174.024 237.597 146.416C243.698 137.01 246.18 128.573 246.428 120.384C246.676 105.496 238.239 94.3297 223.351 94.3297C204.492 94.3297 190.1 115.67 190.1 142.965C190.1 172.245 205.981 192.841 239.708 192.841C285.566 192.841 336.36 137.792 359.699 76.3587C366.288 59.0131 368.76 42.9067 368.76 31.6513C368.76 18.3058 364.542 8.05835 352.631 8.05835C340.969 8.05835 333.277 17.1142 326.329 31.413C318.188 47.9968 312.167 71.9163 309.703 98.955C303.5 166.801 317.396 191.848 350.436 191.848C390.5 191.848 435.042 136.035 457.786 76.1687C464.303 59.0131 466.775 42.9067 466.775 31.6513C466.775 18.3058 462.557 8.05835 450.646 8.05835C438.984 8.05835 431.292 17.1142 424.344 31.413C416.203 47.9968 410.182 71.9163 407.718 98.955C401.515 166.801 415.411 191.848 444.916 191.848C474.374 191.848 490.377 166.17 499.971 138.903C509.455 111.948 521.118 95.3223 545.435 95.3223C565.535 95.3223 581.416 110.211 581.416 138.25C581.416 169.268 561.292 192.593 535.862 192.841C513.484 193.089 498.785 174.975 500.274 147.68C502.011 117.407 520.373 95.3223 544.443 95.3223C558.339 95.3223 570.01 101.499 579.182 108.225C604.049 126.366 623.209 115.156 630.547 97.2188
`;

export const NameWriteEffect: React.FC<NameWriteEffectProps> = ({
  speed = 1,
  onAnimationComplete,
  className,
}) => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 638 201"
    fill="none"
    className={className ?? "h-24 w-auto"}
  >
    <motion.path
      d={combinedPathData.trim()}
      fill="none"
      stroke="currentColor"
      strokeWidth={14.8883}
      strokeLinecap="round"
      initial={{ pathLength: 0 }}
      animate={{ pathLength: 1 }}
      transition={{
        duration: 2 * speed,
        ease: "easeInOut",
      }}
      onAnimationComplete={onAnimationComplete}
    />
  </svg>
);
